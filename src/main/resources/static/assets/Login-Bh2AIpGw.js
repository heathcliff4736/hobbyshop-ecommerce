import{_ as p,r as b,f as w,a,b as o,d as l,j as n,t as d,w as y,k as c,v as g,u as M,o as i,m as _}from"./index-3gVIpqoc.js";const v={class:"login"},k={class:"container"},L={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},x={class:"form-floating"},I={class:"form-floating"},P=["disabled"],h={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},V={__name:"Login",setup(S){const e=b({form:{loginId:"",loginPw:""},errorMessage:"",isLoading:!1}),m=M(),u=w(),f=async()=>{e.errorMessage="",e.isLoading=!0;try{const r=await _(e.form);r.status===200&&(u.setAccessToken(r.data),await m.push("/"))}catch(r){if(r.response)switch(r.response.status){case 404:e.errorMessage="입력하신 정보와 일치하는 회원이 없습니다.";break;case 401:e.errorMessage="아이디 또는 비밀번호가 올바르지 않습니다.";break;case 500:e.errorMessage="서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.";break;default:e.errorMessage="로그인 중 오류가 발생했습니다."}else r.request?e.errorMessage="서버와 연결할 수 없습니다. 네트워크 연결을 확인해주세요.":e.errorMessage="로그인 요청 중 오류가 발생했습니다.";e.form.loginPw="",console.error("Login error:",r)}finally{e.isLoading=!1}};return(r,s)=>(i(),a("div",v,[o("div",k,[e.errorMessage?(i(),a("div",L,[s[3]||(s[3]=o("i",{class:"bi bi-exclamation-circle-fill me-2"},null,-1)),n(" "+d(e.errorMessage)+" ",1),o("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=t=>e.errorMessage=""),"aria-label":"Close"})])):l("",!0),o("form",{class:"py-5 d-flex flex-column gap-3",onSubmit:y(f,["prevent"])},[s[6]||(s[6]=o("h1",{class:"h5 mb-3"},"로그인",-1)),o("div",x,[c(o("input",{type:"email",class:"form-control",id:"loginId",placeholder:"이메일","onUpdate:modelValue":s[1]||(s[1]=t=>e.form.loginId=t)},null,512),[[g,e.form.loginId]]),s[4]||(s[4]=o("label",{for:"loginId"},"이메일",-1))]),o("div",I,[c(o("input",{type:"password",class:"form-control",id:"loginPw",placeholder:"패스워드","onUpdate:modelValue":s[2]||(s[2]=t=>e.form.loginPw=t)},null,512),[[g,e.form.loginPw]]),s[5]||(s[5]=o("label",{for:"loginPw"},"패스워드",-1))]),o("button",{type:"submit",class:"w-100 h6 btn py-3 btn-primary",disabled:e.isLoading},[e.isLoading?(i(),a("span",h)):l("",!0),n(" "+d(e.isLoading?"로그인 중...":"로그인"),1)],8,P)],32)])]))}},C=p(V,[["__scopeId","data-v-ce3169d4"]]);export{C as default};
