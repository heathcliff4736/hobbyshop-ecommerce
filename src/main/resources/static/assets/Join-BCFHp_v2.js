import{_ as g,r as b,a as n,b as o,d,j as m,t as f,w as c,k as l,v as a,u as y,o as i,l as v}from"./index-3gVIpqoc.js";const w={class:"join"},M={class:"container"},x={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},k={class:"form-floating"},V={class:"form-floating"},_={class:"form-floating"},I={class:"form-floating"},L={class:"form-floating"},P=["disabled"],U={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},h={__name:"Join",setup(j){const e=b({form:{name:"",loginId:"",loginPw:"",phone:"",address:""},errorMessage:"",isLoading:!1}),p=y(),u=async()=>{e.errorMessage="",e.isLoading=!0;try{(await v(e.form)).status===200&&await p.push("/login")}catch(t){if(t.response)switch(t.response.status){case 409:e.errorMessage=t.response.data.message||"이미 사용 중인 아이디입니다.";break;case 400:e.errorMessage="입력하신 정보를 다시 확인해주세요.";break;default:e.errorMessage="회원가입 중 오류가 발생했습니다."}else t.request?e.errorMessage="서버와 연결할 수 없습니다. 네트워크 연결을 확인해주세요.":e.errorMessage="회원가입 요청 중 오류가 발생했습니다."}finally{e.isLoading=!1}};return(t,s)=>(i(),n("div",w,[o("div",M,[e.errorMessage?(i(),n("div",x,[s[6]||(s[6]=o("i",{class:"bi bi-exclamation-circle-fill me-2"},null,-1)),m(" "+f(e.errorMessage)+" ",1),o("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=r=>e.errorMessage=""),"aria-label":"Close"})])):d("",!0),o("form",{class:"py-5 d-flex flex-column gap-3",onSubmit:c(u,["prevent"])},[s[12]||(s[12]=o("h1",{class:"h5 mb-3"},"회원가입",-1)),o("div",k,[l(o("input",{type:"text",class:"form-control",id:"name",placeholder:"이름","onUpdate:modelValue":s[1]||(s[1]=r=>e.form.name=r)},null,512),[[a,e.form.name]]),s[7]||(s[7]=o("label",{for:"name"},"이름",-1))]),o("div",V,[l(o("input",{type:"email",class:"form-control",id:"loginId",placeholder:"이메일","onUpdate:modelValue":s[2]||(s[2]=r=>e.form.loginId=r)},null,512),[[a,e.form.loginId]]),s[8]||(s[8]=o("label",{for:"loginId"},"이메일",-1))]),o("div",_,[l(o("input",{type:"password",class:"form-control",id:"loginPw",placeholder:"패스워드","onUpdate:modelValue":s[3]||(s[3]=r=>e.form.loginPw=r)},null,512),[[a,e.form.loginPw]]),s[9]||(s[9]=o("label",{for:"loginPw"},"패스워드",-1))]),o("div",I,[l(o("input",{type:"text",class:"form-control",id:"phone",placeholder:"010-1234-5678","onUpdate:modelValue":s[4]||(s[4]=r=>e.form.phone=r)},null,512),[[a,e.form.phone]]),s[10]||(s[10]=o("label",{for:"phone"},"휴대폰 번호",-1))]),o("div",L,[l(o("input",{type:"text",class:"form-control",id:"address",placeholder:"주소","onUpdate:modelValue":s[5]||(s[5]=r=>e.form.address=r)},null,512),[[a,e.form.address]]),s[11]||(s[11]=o("label",{for:"address"},"주소",-1))]),o("button",{type:"submit",class:"w-100 h6 btn py-3 btn-primary",disabled:e.isLoading},[e.isLoading?(i(),n("span",U)):d("",!0),m(" "+f(e.isLoading?"가입 중...":"회원가입"),1)],8,P)],32)])]))}},C=g(h,[["__scopeId","data-v-a20c5cfd"]]);export{C as default};
